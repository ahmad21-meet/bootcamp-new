
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <script src="app.js" defer></script>
   <title>Document</title>
</head>
<body>
   <button id="btn">Fetch Joke!</button>
   <h1 id="joke-title"></h1>
   <h4 id="joke-text"></h4>

<script>



const button = document.getElementById('btn');
const title = document.querySelector('#joke-title');
const joke = document.querySelector('#joke-text');


button.addEventListener('click',func);

async function getData(){
      const fetched = await fetch('https://api.jokes.one/jod')
   if(!fetched.ok){
      throw new Error ('error');
   }
   return fetched
}
async function func(){
   try{
      const result = await getData()
      const data = await result.json()
         const titleText = data.contents.jokes[0].joke.title;
         const jokeText = data.contents.jokes[0].joke.text;
         title.textContent = titleText;
         joke.textContent = jokeText;
         console.log(data);
   }
   catch(e){
      console.log(e);
   }
}
</script>
</body>
</html>